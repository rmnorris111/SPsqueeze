<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N57MBFF3');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <meta name="description" content="Expert probate services in New Zealand. Fixed fee pricing, professional guidance, and fast turnaround to help you navigate the probate process with ease." />
    <title>Simply Probate - Expert Probate Services in New Zealand</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- No external font-awesome needed as we're using Unicode symbols -->

  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N57MBFF3"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- ConvertKit Modal Form -->
    <div id="convertkit-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 99999; align-items: center; justify-content: center;">
      <div style="background: white; border-radius: 12px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto; position: relative;">
        <button id="close-modal" style="position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 24px; cursor: pointer; color: #666; z-index: 1;">&times;</button>
        <form action="https://app.kit.com/forms/8242450/subscriptions" class="seva-form formkit-form" method="post" data-sv-form="8242450" data-uid="d517e28d2b" data-format="modal" data-version="5" style="background-color: rgb(255, 255, 255); border-radius: 10px; margin: 0; border: none;">
          <div data-style="full" style="--bg-border-radius: 5px;">
            <div data-element="column" class="formkit-column" style="padding: 40px;">
              <div class="formkit-header" data-element="header" style="color: rgb(61, 61, 61); font-weight: 400;">
                <h2 style="margin: 0 0 20px 0; font-size: 28px; line-height: 1.3;">Jam-packed with helpful info by probate lawyer, Rion Norris.</h2>
              </div>
              <div class="formkit-content" data-element="content" style="color: rgb(110, 110, 110); margin-bottom: 30px;">
                <p style="margin: 0; font-size: 16px; line-height: 1.5;">I'll send you a comprehensive guide that walks you through the probate process (with examples).<br><br>Get the 20-page guide by subscribing below.</p>
              </div>
              <ul class="formkit-alert formkit-alert-error" data-element="errors" data-group="alert" style="list-style: none; margin: 0; padding: 0;"></ul>
              <div data-element="fields" data-stacked="true" class="seva-fields formkit-fields" style="margin-bottom: 20px;">
                <div class="formkit-field" style="margin-bottom: 15px;">
                  <input class="formkit-input" aria-label="First Name" name="fields[first_name]" required="" placeholder="First Name" type="text" style="color: rgb(110, 110, 110); background-color: rgb(247, 247, 247); border-radius: 5px; font-weight: 400; width: 100%; padding: 12px; border: 1px solid #e3e3e3; font-size: 15px; box-sizing: border-box;">
                </div>
                <div class="formkit-field" style="margin-bottom: 20px;">
                  <input class="formkit-input" name="email_address" aria-label="Email Address" placeholder="Email Address" required="" type="email" style="color: rgb(110, 110, 110); background-color: rgb(247, 247, 247); border-radius: 5px; font-weight: 400; width: 100%; padding: 12px; border: 1px solid #e3e3e3; font-size: 15px; box-sizing: border-box;">
                </div>
                <button data-element="submit" class="formkit-submit formkit-submit" type="submit" style="color: rgb(255, 255, 255); background-color: rgb(120, 94, 223); border-radius: 5px; font-weight: 700; width: 100%; padding: 15px; border: none; font-size: 16px; cursor: pointer;">
                  <span>Download</span>
                </button>
              </div>
              <div class="formkit-disclaimer" data-element="disclaimer" style="color: rgb(110, 110, 110); font-size: 14px; text-align: center;">
                We respect your privacy. Unsubscribe at any time.
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
    
    <script>
      // Custom modal functionality
      window.showConvertKitModal = function() {
        console.log('showConvertKitModal called - showing custom modal');
        const modal = document.getElementById('convertkit-modal');
        if (modal) {
          modal.style.display = 'flex';
        }
      };
      
      // Close modal functionality
      document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('convertkit-modal');
        const closeBtn = document.getElementById('close-modal');
        
        // Close on X button
        if (closeBtn) {
          closeBtn.addEventListener('click', function() {
            modal.style.display = 'none';
          });
        }
        
        // Close on backdrop click
        if (modal) {
          modal.addEventListener('click', function(e) {
            if (e.target === modal) {
              modal.style.display = 'none';
            }
          });
        }
        
        // Handle form submission
        const form = modal.querySelector('form');
        if (form) {
          form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(form);
            const submitButton = form.querySelector('[data-element="submit"]');
            
            // Show loading state
            if (submitButton) {
              submitButton.textContent = 'Submitting...';
              submitButton.disabled = true;
            }
            
            // Submit to ConvertKit
            fetch(form.action, {
              method: 'POST',
              body: formData,
              headers: {
                'Accept': 'application/json'
              }
            })
            .then(response => {
              if (response.ok) {
                // Success - show thank you message
                modal.innerHTML = '<div style="background: white; border-radius: 12px; max-width: 500px; width: 90%; padding: 40px; text-align: center;"><h2 style="color: #10bf7a; margin-bottom: 20px;">Success!</h2><p style="font-size: 16px; color: #666; margin-bottom: 30px;">Now check your email to get your probate guide.</p><button onclick="document.getElementById(\'convertkit-modal\').style.display=\'none\'" style="background: #10bf7a; color: white; border: none; padding: 12px 24px; border-radius: 5px; cursor: pointer; font-size: 16px;">Close</button></div>';
              } else {
                throw new Error('Submission failed');
              }
            })
            .catch(error => {
              console.error('Form submission error:', error);
              // Reset button
              if (submitButton) {
                submitButton.textContent = 'Download';
                submitButton.disabled = false;
              }
              alert('There was an error submitting the form. Please try again.');
            });
          });
        }
      });
    </script>
    <!-- This is a replit script which adds a banner on the top of the page when opened in development mode outside the replit environment -->
    <script type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js"></script>
  </body>
</html>
